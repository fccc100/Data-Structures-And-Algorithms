<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /**
     * @param {number[]} nums
     * @return {number}
     */
    var mostFrequentEven = function (nums) {
      let map = new Map();
      for (let i = 0; i < nums.length; i++) {
        if (nums[i] % 2 == 0) {
          if (!map.has(nums[i])) {
            map.set(nums[i], 1);
          } else {
            map.set(nums[i], map.get(nums[i]) + 1);
          }
        }
      }

      let res = [];

      for (let entry of map) {
        res.push(entry);
      }

      res.sort((a, b) => a[1] - b[1]);

      let max = res[0][1];
      let ans = res[0][0];
      for (let i = 1; i < res.length; i++) {
        if (res[i][1] < max) {
          break;
        }

        if (res[i][1] == max) {
          ans = Math.min(ans, res[i][0]);
        }
      }
      return ans;
    };



    /**
     * @param {string} s
     * @return {number}
     */
    var partitionString = function (s) {
      let map = Array(26).fill(0);

      let res = 0;
      for (let i = 0; i < s.length; i++) {
        if (map[s[i].charCodeAt() - 'a'.charCodeAt()] > 0) {
          res++;
          map.fill(0);
          map[s[i].charCodeAt() - 'a'.charCodeAt()]++;
        } else {
          map[s[i].charCodeAt() - 'a'.charCodeAt()]++;
        }
      }
      return res;
    };




    /**
     * @param {number[][]} intervals
     * @return {number}
     */
    var minGroups = function (intervals) {
      let diff = Array(10 ** 6 + 100).fill(0);

      for (let i = 0; i < intervals.length; i++) {
        diff[intervals[i][0]]++;
        diff[intervals[i][1] + 1]--;
      }

      let max = 0;
      for (let i = 1; i < diff.length; i++) {
        diff[i] = diff[i - 1] + diff[i];
        max = Math.max(max, diff[i]);
      }

      return max;
    };

    10476

    //        [[5, 10], [6, 8], [1, 5], [2, 3], [1, 10]]
    //        [[1, 5], [1, 10], [2, 3], [5, 10], [6, 8]]


    /**
     * @param {number[]} nums
     * @param {number} k
     * @return {number}
     */
    // [1,4,7,15,5]
    // 1
    // 输出：
    // 1
    // 预期：
    // 2
    var lengthOfLIS = function (nums, k) {
      let n = nums.length;
      let len = 1;
      if (n == 0) return 0;

      // dp[i]表示长度为 i 的最长上升子序列的末尾元素的最小值
      let dp = Array(n + 1).fill(1);
      dp[len] = nums[0];

      for (let i = 1; i < n; i++) {
        if (nums[i] > dp[len] && nums[i] - dp[len] <= k) {
          len++;
          dp[len] = nums[i];
        } else {
          let l = 1;
          let r = len;
          let pos = 0;
          while (l <= r) {
            let mid = (l + r) >> 1;
            if (dp[mid] < nums[i]) {
              if (nums[i] - dp[mid] <= k) {
                pos = mid;
                l = mid + 1;
              }
            } else {
              r = mid - 1;
            }
          }
          dp[pos + 1] = nums[i];
        }
      }
      return len;
    };

    //       [1,4,7,15,5]
    // dp:  [1]
    // dp:  [1, 4]


    var lengthOfLIS = function (nums, k) {
      if (nums.length == 0) {
        return 0;
      }
      let dp = Array(nums.length).fill(0);
      dp[0] = 1;
      let maxans = 1;
      for (let i = 1; i < nums.length; i++) {
        dp[i] = 1;
        for (let j = 0; j < i; j++) {
          if (nums[i] > nums[j] && nums[i] - nums[j] <= k) {
            dp[i] = Math.max(dp[i], dp[j] + 1);
          }
        }
        maxans = Math.max(maxans, dp[i]);
      }
      return maxans;
    }


    //     [4,2,1,4,3,4,5,8,15]
    //     3

    // 输入：
    // [1,3,3,4]
    // 1
    // 输出：
    // 1
    // 预期：
    // 2


    // [1,4,7,15,5]
    // 1
    // 输出：
    // 1
    // 预期：
    // 2






    /**
     * @param {number[]} nums
     * @param {number} k
     * @return {number}
     */
    var lengthOfLIS = function (nums, k) {
      let n = nums.length;

      let diff = Array(10 ** 6 + 100).fill(0);
    };
  </script>
</body>

</html>
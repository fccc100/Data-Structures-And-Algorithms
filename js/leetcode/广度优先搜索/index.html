<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /**
     * @param {number[]} nums
     * @return {boolean}
     */
    var findSubarrays = function (nums) {
      for (let i = 0; i < nums.length - 1; i++) {
        let sum = nums[i] + nums[i + 1];
        for (let j = i + 1; j < nums.length - 1; j++) {
          if (nums[j] + nums[j + 1] == sum) {
            return true;
          }
        }
      }
      return false;
    };


    /**
     * @param {number[][]} mat
     * @param {number} cols
     * @return {number}
     */
    var maximumRows = function (mat, cols) {
      let m = mat.length;
      let n = mat[0].length;

      let map = Array(m);
      for (let i = 0; i < m; i++) {
        map[i] = new Set();
      }

      for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
          if (mat[i][j] == 1) {
            map[i].add(j);
          }
        }
      }
      console.log(map)

      function dfs(index) {

      }

      let combineRes = combine(n, cols);
      console.log(combineRes)


      let res = 0;
      for (let i = 0; i < combineRes.length; i++) {
        let cur = 0;
        for (let k = 0; k < m; k++) {
          let allExist = true;
          let oneCount = 0;
          for (let j = 0; j < combineRes[i].length; j++) {

            if (mat[k][combineRes[i][j]] == 1) {
              oneCount++;
            }

          }
          if (oneCount >= map[k].size) {
            cur++;
          }

        }
        res = Math.max(res, cur);
      }
      return res;
    };

    var combine = function (n, k) {
      let res = [];

      function __combine(n, k, index, path) {
        if (path.length == k) {
          res.push([...path]);
          return;
        }

        for (let i = index; i <= n; i++) {
          path.push(i);
          __combine(n, k, i + 1, path);
          path.pop();
        }
      }
      __combine(n, k, 0, []);
      return res;
    };


    /**
     * @param {number[]} chargeTimes
     * @param {number[]} runningCosts
     * @param {number} budget
     * @return {number}
     */
    var maximumRobots = function (chargeTimes, runningCosts, budget) {
      let n = chargeTimes.length;

      let preSum = Array(n);
      preSum[0] = runningCosts[0];
      for (let i = 1; i < n; i++) {
        preSum[i] = preSum[i - 1] + runningCosts[i];
      }
      preSum.unshift(0);

      let l = 0;
      let r = -1;

      let res = 0;

      let maxQueue = new MaxQueue();

      let cur = 0;
      while (r < n) {
        if (cur <= budget) {
          res = Math.max(res, r - l + 1);

          r++;
          if (r >= n) break;
          maxQueue.push_back(chargeTimes[r]);
          let max = maxQueue.max_value();

          let len = r - l + 1;
          let sum = preSum[r + 1] - preSum[l];

          cur = max + len * sum;
        } else {
          l++;
          maxQueue.pop_front();
        }
      }
      return res;
    };

    var MaxQueue = function () {
      this.array = new Array();
      this.maxArray = new Array();
    };

    /**
     * @return {number}
     */
    MaxQueue.prototype.max_value = function () {
      return this.array.length ? this.maxArray[0] : -1;
    };

    /** 
     * @param {number} value
     * @return {void}
     */
    MaxQueue.prototype.push_back = function (value) {
      this.array.push(value);
      while (this.maxArray.length && this.maxArray[this.maxArray.length - 1] < value) {
        this.maxArray.pop();
      }
      this.maxArray.push(value);
    };

    /**
     * @return {number}
     */
    MaxQueue.prototype.pop_front = function () {
      if (!this.array.length) return -1;
      const shiftElement = this.array.shift();
      if (shiftElement === this.maxArray[0]) {
        this.maxArray.shift();
      }
      return shiftElement;
    };


    //                          [3, 6, 1, 3, 4]
    //                          [2, 1, 3, 4, 5]     25
  </script>
</body>

</html>
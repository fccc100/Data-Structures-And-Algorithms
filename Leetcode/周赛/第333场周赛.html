<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /**
     * @param {number[][]} nums1
     * @param {number[][]} nums2
     * @return {number[][]}
     */
    var mergeArrays = function (nums1, nums2) {
      let m = nums1.length
      let n = nums2.length
      let map = new Map()
      for (let i = 0; i < m; i++) {
        let id = nums1[i][0]
        let v = nums1[i][1]
        if (!map.has(id)) {
          map.set(id, 0)
        }
        map.set(id, map.get(id) + v)
      }
      for (let i = 0; i < n; i++) {
        let id = nums2[i][0]
        let v = nums2[i][1]
        if (!map.has(id)) {
          map.set(id, 0)
        }
        map.set(id, map.get(id) + v)
      }
      let res = []
      for (let entry of map.entries()) {
        res.push(entry)
      }
      res.sort((a, b) => a[0] - b[0])
      return res
    };

    /**
     * @param {number} n
     * @return {number}
     */
    var minOperations = function (n) {
      let res = Infinity
      let c = 0
      let map = new Map()

      function min(n, cnt) {
        if (!map.has(n)) {
          map.set(n, 0)
        }
        map.set(n, map.get(n) + 1)
        if (map.get(n) > 1000) return
        console.log('sdfsf')
        if (n == 16) {

        }
        // c++
        // if (c >= 100000) return cnt + 1
        if ((n & (n - 1)) == 0) {
          if (n == 16) {
            console.log(n, cnt)
          }


          return cnt + 1
        }
        let m = Infinity
        for (let i = 0; i <= 4; i++) {
          m = Math.min(m, min(n - Math.pow(2, i), cnt + 1))
          m = Math.min(m, min(n + Math.pow(2, i), cnt + 1))
        }
        return m + 1
      }
      return min(n, 0)

    };


    /**
     * @param {number[]} nums
     * @return {number}
     */
    var squareFreeSubsets = function (nums) {
      let arr = [4, 9, 16, 25]
      let n = nums.length
      let mods = Array(31).fill(0)
      let all = 1
      let mod = 1000000007
      for (let i = 0; i < n; i++) {
        let valid = true
        for (let j = 0; j < arr.length; j++) {
          if (nums[i] % arr[j] == 0) {
            valid = false
            break
          }
        }
        if (valid) {
          let curMods = Array(31).fill(0)
          for (let j = 0; j < nums[i]; j++) {
            if (nums[i] % j == 0) {
              curMods[j]++
            }
          }
          let newAdd = all
          for (let j = 0; j < mods.length; j++) {
            if (curMods[j] > 0) {
              newAdd -= mods[j]
            }
          }

          all = (all + newAdd) % mod

          for (let j = 0; j < nums[i]; j++) {
            if (nums[i] % j == 0) {
              mods[j]++
            }
          }
        }


      }
      return (all - 1 + mod) % mod
    };




    /**
     * @param {number[]} nums
     * @return {number}
     */
    var squareFreeSubsets = function (nums) {
      let n = nums.length
      let dp = Array(n).fill(0)
      for (let i = 0; i < n; i++) {

      }
    };
  </script>
</body>

</html>